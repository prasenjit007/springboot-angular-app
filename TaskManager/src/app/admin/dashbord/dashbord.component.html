<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Dashbord</li>
    </ol>
</nav>

<div class="row">
    <div class="col-lg-3 pb-3" style="background-color: #e9e6e6;">
        <div class="row">
            <div class="col-11 text-white text-center mx-2 rounded pt-2 pv-2 font-weight-bold"
                style="background-color: #a39e92; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;">
                {{Designation | uppercase}}
            </div>
            <div class="col-12 text-center mt-2">
                <img src="assets/user.JPG" width="80px">
            </div>
            <div class="col-12 text-center mx-2 rounded pt-2 pv-2 font-weight-bold" style="font-family: Tahoma;">
                {{Username | lowercase}}
            </div>
            <div class="col-12 text-center mx-2 rounded pt-2 pv-2 font-weight-bold" style="font-family: Arial;">
                TEAM SUMMARY
            </div>
            <div class="col-12 mb-3">
                <ul class="list-group">
                    <li class="list-group-item d-flex-justify-content-between align-item-center">
                        NO. OF TEAM MEMBERS
                        <span class="badge badge-secondary badge-pill" style="font-size:13px">{{NoOfTeamMembers}}</span>
                    </li>
                    <li class="list-group-item d-flex-justify-content-between align-item-center">
                        TOTAL COST OF PROJCTS
                        <span class="badge badge-secondary badge-pill"
                            style="font-size:13px">{{  TotalCostOfAllProjects}} K</span>
                    </li>
                    <li class="list-group-item d-flex-justify-content-between align-item-center">
                        PENDING TASKS
                        <span class="badge badge-secondary badge-pill" style="font-size:13px">{{PendingTasks}}</span>
                    </li>
                    <li class="list-group-item d-flex-justify-content-between align-item-center">
                        UPCOMING PROJECTS
                        <span class="badge badge-secondary badge-pill"
                            style="font-size:13px">{{UpComingProjects|percent}}</span>
                    </li>
                </ul>
            </div>
            <div class="col-12 text-center mx-2 rounded pt-2 pv-2 font-weight-bold" style="font-family: Arial;">
                CLIENTS
            </div>
            <div class="col-12">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" *ngFor="let client of Clients">{{client}}</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-lg-6">
        <div class="row">
            <div class="col-12 pt-0 pb-2" style="background-color: #a39e92;">
                <div class="row mt-2">
                    <div class="col-6 text-left">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Project A
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="#" *ngFor="let p of Projects" onclick="return false" 
                                (click)="onProjectChange($event)">{{p}}</a>
                            </div>
                        </div>
                    </div>

                    <div class="col-6 text-right">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                2020
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="#" *ngFor="let year of Years">
                                    <span [ngSwitch]="year">
                                        <span *ngSwitchCase="'2020'" style="color: red">{{year}}</span>
                                        <span *ngSwitchCase="'2019'" style="color: green">{{year}}</span>
                                        <span *ngSwitchCase="'2018'" style="color: blue">{{year}}</span>
                                        <span *ngSwitchDefault style="color: black">{{year}}</span>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-11 text-white text-center mx-2 rounded pt-2 pv-2 font-weight-bold"
                    style="background-color: #a39e92; font-family: Arial Narrow;">
                    PROJECT BRIEFING
                </div>




            </div>
        </div>
        <div class="col-12">
            <table class="table table-borderless">
                <tr>
                    <td>PROJECT COST</td>
                    <td><span class="badge badge-secondary badge-pill" style="font-size:13px">{{ProjectCost | currency : "INR"}} </span></td>
                </tr>
                <tr>
                    <td>CURRENT EXPENDITURE</td>
                    <td><span class="badge badge-secondary badge-pill" style="font-size:13px">{{CurrentExpenditure | currency : "INR"}}</span></td>
                </tr>
                <tr>
                    <td>AVAILABLE FUNDS</td>
                    <td><span class="badge badge-secondary badge-pill" style="font-size:13px">{{AvailableFunds | currency : "INR"}}</span></td>
                </tr>
            </table>
        </div>
        <div class="row">
            <div class="col-12 pt-0 pb-2" style="background-color: #a39e92;">
                <div class="col-11 text-white text-center mx-2 rounded pt-2 pv-2 font-weight-bold"
                    style="background-color: #a39e92; font-family: Arial Narrow;">
                    TEAM MEMBERS SUMMARY
                </div>
            </div>
        </div>

        <table class="table">
            <thead class="thead-light">
              <tr>
                <th scope="col" style="text-align: center;">#</th>
                <th scope="col" style="text-align: center;">Regions</th>
                <th scope="col" style="text-align: center;">Team Members Count</th>
                <th scope="col" style="text-align: center;">Temprarily Unavailable Members</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let ts of TeamMembersSummary">
                <th scope="row" style="text-align: center;">{{ts.Id}}</th>
                <td style="text-align: center;">{{ts.Regions}}</td>
                <td style="text-align: center;">{{ts.TeamMembersCount}}</td>
                <td style="text-align: center;">{{ts.TemprarilyUnavailableMembers}}</td>
              </tr>
            </tbody>
          </table>

    </div>
    <div class="col-lg-3">
        <div class="row">
            <div class="col-12 pt-0 pb-2" style="background-color: #a39e92;">
                <div class="col-11 text-white text-center mx-2 rounded pt-2 pv-2 font-weight-bold"
                    style="background-color: #a39e92; font-family: Arial Narrow;">
                    TEAM MEMBERS
                </div>
            </div>
        </div>
        <div class="col-lg-12 pt-2">
            <div class="accordion" id="accordion1">
                <div class="card" *ngFor="let teamMembersGroup of TeamMembers; let i=index">
                    <div class="card-header bg-secondary" id="card1">
                        <h2 class="mb-0">
                            <button class="btn btn-link text-white" type="button" data-toggle="collapse" 
                            [attr.data-terget]="'#cardbody'+i">
                                {{teamMembersGroup.Region}}
                            </button>
                        </h2>
                    </div>
                    <div [id]="'cardbody'+i" class="collapse" data-parent="#accordion1" [ngClass]="(i==0)?'show':''">
                        <div class="card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>NAME</th>
                                        <th>STATUS</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let member of teamMembersGroup.Members">
                                        <td>{{member.ID}}</td>
                                        <td [style.color]="(member.Status=='Available')? 'green':'red'">{{member.Name}}</td>
                                        <td>{{member.Status}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>